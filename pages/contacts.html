<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="746165622418-7iti7bii38rum9d9ibqqrheabp1coh4k.apps.googleusercontent.com">
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; child-src 'none';"> -->
    <title>Services</title>
    <link rel="stylesheet" href="../styles/temp.css">
</head>
<body>
    <div class="wrapper">
        <header class="header df">
            <div class="header__body df">
                <div id="type-source"></div>
                <div id="type-loop">true</div>
                <div class="header__logo header__logo--path">
                    <a href="../index.html">utc@film</a><span class="header__mobile-hidden">:</span>
                    <span class="spec-violet header__mobile-hidden">~</span>
                    <span class="header__mobile-hidden">$</span>
                    <span class="header__text">
                        <a href="../index.html">HOME</a>
                    </span>
                    ->
                    <a href="../pages/services.html">CONTACTS</a>
                    <span class="type-cursor">|</span>
                </div>
                <div class="header__menu-button">
                    <span id="menu-button">menu</span>
                </div>
            </div>
            <nav class="header__menu">
                <div class="header__menu-top">
                    <a href="../pages/contacts.html" class="header__link">contacts</a>
                </div>
                <ul class="header__list">
                    <li class="header__link--current"><a href="../index.html" class="header__link">home</a></li>
                    <li><a href="#" class="header__link">works</a></li>
                    <li><a href="#" class="header__link">team</a></li>
                    <li><a href="services.html" class="header__link">services</a></li>
                </ul>
            </nav>
        </header>
        <section class="main">
           <div class="contacts df">
            <div class="contacts__item">
                <div class="contacts__title">
                    <span class="keytext">
                        YOU CAN:
                        <a class="contacts__link" href="mailto:ukr.tv.film@gmail.com">
                            <span class="spec-violet">~</span>TEXT U<span class="spec-orange">$</span>
                        </a>
                    </span>
                </div>
                <div class="contacts__text">UKR.TV.FILM@GMAIL.COM</div>
            </div>
            <div class="contacts__item">
                <div class="contacts__title">
                    <span class="keytext">
                        YOU CAN: 
                        <a class="contacts__link" href="tel:+380506945679">
                            <span class="spec-violet">~</span>C&commat;LL US
                        </a>
                    </span>
                </div>
                <div class="contacts__text">+380 50 694 56 79</div>
                <div class="contacts__text">+380 44 222 93 46</div>
            </div>
           </div>
           <div class="info">
            <div class="info__text">
                <span class="keytext">OR YOU CAN JUST MEET US ON THE FUCKING AWESOME ROOF</span>
            </div>
            <div class="info__text">KOZHUMIATSKA 16B ST, KYIV, UKRAINE</div>
            <div class="info__media" id="scroll-media">
                <img src="../media/roof.png" alt="roof">
                <div class="info__button df">
                    <div class="info__pic"><img src="../media/heart.png" alt="heart"></div>
                    <span onclick="handleAuthClick()">Invite for a date</span>
                    <div class="info__pic"><img src="../media/heart.png" alt="heart"></div>
                </div>
            </div>
           </div>
           <div class="face">
            <svg viewBox="0 0 56 56" fill="none">
                <path d="M3.02702 36.3244V20.4325V19.6757H6.05405V12.1082H9.08108V9.08115H12.1081V6.05413H19.6757V3.0271H36.3243V6.05413H43.8919V9.08115H46.9189V12.1082H49.9459V19.6757H52.973V36.3244H49.9459V43.892H46.9189V46.919H43.8919V49.946H36.3243V52.973H19.6757V49.946H12.1081V46.919H9.08108V43.892H6.05405V36.3244H3.02702Z" fill="#FFFE54"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M36.3243 0H19.6757V3.02703L12.1081 3.02703V6.05405H9.08108L9.08108 9.08108H6.05405L6.05405 12.1081L3.02703 12.1081L3.02703 19.6757H0V36.3243H3.02703L3.02703 19.6757H6.05405V12.1081L9.08108 12.1081V9.08108L12.1081 9.08108V6.05405L19.6757 6.05405L19.6757 3.02703H36.3243V6.05405H43.8919V9.08108H46.9189V12.1081H49.9459V19.6757H52.973L52.973 36.3243L49.9459 36.3243V43.8919H46.9189V46.9189H43.8919V49.9459H36.3243V52.973H19.6757V49.9459H12.1081V46.9189H9.08108V43.8919H6.05406L6.05406 36.3243H3.02703L3.02703 43.8919H6.05406V46.9189H9.08108V49.9459H12.1081L12.1081 52.973H19.6757V56H36.3243L36.3243 52.973H43.8919V49.9459H46.9189V46.9189H49.9459V43.8919H52.973V36.3243L56 36.3243V19.6757L52.973 19.6757V12.1081H49.9459V9.08108H46.9189V6.05405H43.8919V3.02703H36.3243V0Z" fill="black"/>
                <rect x="15.1351" y="19.6758" width="6.05406" height="6.05405" fill="black"/>
                <rect x="34.8108" y="19.6758" width="6.05405" height="6.05405" fill="black"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M36.3243 43.8918L19.6757 43.8918L19.6757 40.8648L36.3243 40.8648L36.3243 43.8918ZM16.6487 37.8378L19.6757 37.8378L19.6757 40.8648L16.6487 40.8648L16.6487 37.8378ZM16.6487 37.8378L13.6216 37.8378L13.6216 34.8108L16.6487 34.8108L16.6487 37.8378ZM42.3784 37.8378L39.3514 37.8378L39.3514 34.8108L42.3784 34.8108L42.3784 37.8378ZM39.3514 37.8378L39.3514 40.8648L36.3243 40.8648L36.3243 37.8378L39.3514 37.8378Z" fill="black"/>
            </svg>
           </div>
           <div class="content" id="content"></div>
        </section>
        <footer class="footer">
            <div class="footer__body">
                <div class="footer__item"><a href="https://instagram.com/utc_film?igshid=YmMyMTA2M2Y=" class="footer__link">instagram</a></div>
                <div class="footer__item"><a href="https://facebook.com/utcfilmstudio" class="footer__link">facebook</a></div>
                <div class="footer__item"><a href="https://vimeo.com/utcfilm" class="footer__link">vimeo</a></div>
                <div class="footer__item"><a href="mailto:ukr.tv.film@gmail.com" class="footer__link">gmail</a></div>
            </div>
        </footer>
    </div>
    <!-- <script async defer src="https://apis.google.com/js/api.js"></script>
    <script async defer src="https://accounts.google.com/gsi/client"></script> -->
    <script>
        function onSignIn(googleUser) {
            debugger
            var profile = googleUser.getBasicProfile();
            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        }

        const API_KEY="AIzaSyAkNxg2T7rsh-8G7JN4qwo8RdNCBVFPEeY";
        const CLIENT_ID = '746165622418-7iti7bii38rum9d9ibqqrheabp1coh4k.apps.googleusercontent.com'
        const SCOPES = ['https://www.googleapis.com/auth/calendar','https://www.googleapis.com/auth/userinfo.email'];
        const CALENDAR_ID ="hu6ioahhamk7m480jtm1sdm4n0@group.calendar.google.com";
        const DISCOVERY_DOC = ['https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest'];

        let tokenClient;
        let gapiInited = false;
        let gisInited = false;

      /**
       * Callback after api.js is loaded.
       */
      function gapiLoaded() {
        gapi.load('client', intializeGapiClient);
      }

      let GoogleAuth;

      async function intializeGapiClient() {
        await gapi.client.init({
          apiKey: API_KEY,
          discoveryDocs: DISCOVERY_DOC,
        }).then(function () {
            GoogleAuth = gapi.auth2.getAuthInstance();
            console.log(GoogleAuth);
        });
        gapiInited = true;
      }
///oauth2/v1/userinfo
      /**
       * Callback after Google Identity Services are loaded.
       */
      function gisLoaded() {
        tokenClient = google.accounts.oauth2.initTokenClient({
          client_id: CLIENT_ID,
          scope: SCOPES,
          callback: '', // defined later
        });
        gisInited = true;
      }

      /**
       * Enables user interaction after all libraries are loaded.
       */

      /**
       *  Sign in the user upon button click.
       */
      function handleAuthClick() {
        tokenClient.callback = async (resp) => {
          if (resp.error !== undefined) {
            throw (resp);
          }
          await listUpcomingEvents();
        };

        if (gapi.client.getToken() === null) {
          // Prompt the user to select a Google Account and ask for consent to share their data
          // when establishing a new session.
          tokenClient.requestAccessToken({prompt: 'consent'});
        } else {
          // Skip display of account chooser and consent dialog for an existing session.
          tokenClient.requestAccessToken({prompt: ''});
        }
      }



      async function listUpcomingEvents() {
        let response;
        try {
          const request = {
            'calendarId': CALENDAR_ID,
            'timeMin': (new Date()).toISOString(),
            'showDeleted': false,
            'singleEvents': true,
            'maxResults': 10,
            'orderBy': 'startTime',
          };
          response = await gapi.client.calendar.events.list(request);
        } catch (err) {
          document.getElementById('content').innerText = err.message;
          return;
        }

        const events = response.result.items;
        if (!events || events.length == 0) {
          document.getElementById('content').innerText = 'No events found.';
          return;
        }
        // Flatten to string to display
        const output = events.reduce(
            (str, event) => `${str}${event.summary} (${event.start.dateTime || event.start.date})\n`,
            'Events:\n');
        document.getElementById('content').innerText = output;
      }
        </script>
        <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
        <script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
        <!-- <script src="https://apis.google.com/js/platform.js" async defer></script> -->
    <script src="../dist/contacts.js"></script>
</body>
</html>